<nz-card style="background-color: #f7f8fa; border-radius: 7px;" class="!min-w-[300px] list-card w-auto !mr-4 h-full overflow-hidden"
  (dragover)="allowCardReplacement($event)" (drop)="dropCard($event)" id="list-{{listIndex}}">
  <div class="pb-[4%] p-4 w-full" >
      <p class="list-name flex items-center text-lg font-semibold w-full !text-left !h-[40px]">{{list.title}}</p>
      <button nz-button nzType="primary" (click)="openDrawer()"
        class="actions-btn btn-no !border-none !bg-blue-600 hover:!bg-blue-500 my-2 !w-full !h-[40px]">
        <i class="fa-regular fa-plus mr-2"></i> Add task
      </button>
    <!-- <div>
      <span style="color:red" nz-icon nzType="delete" nzTheme="outline" (click)="delete()"></span>
    </div> -->
    <!-- <st-context-menu (contextAction)="delete()"></st-context-menu> -->
  </div>
  <div id="list-one" class="px-4 overflow-auto !h-[calc(100vh-390px)]">
    <st-card-summary [form]="form" [formlyModel]="formlyModel" [screenId]="screenId" [screenName]="screenName"
      *ngFor="let card of list.children;let i = index" [card]="card" [listIndex]="listIndex" [cardIndex]="i"
      attr.cardIndex="{{i}}"></st-card-summary>

  </div>
</nz-card>

<nz-drawer [nzWrapClassName]="'button-drawer'" [nzClosable]="false" [nzTitle]="'Add Task'" [nzWidth]="'60%'"
  [nzVisible]="isVisible" (nzOnClose)="handleClose()">
  <ng-container *nzDrawerContent>
    <nz-spin [nzSpinning]="loader">
      <st-pages [mappingId]="mappingId" [isDrawer]="true" [data]="nodes" [navigation]="screenId" [form]="form"
        [formlyModel]="formlyModel" *ngIf="nodes.length > 0"></st-pages>
    </nz-spin>
  </ng-container>
</nz-drawer>