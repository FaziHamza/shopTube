<form [formGroup]="form" (ngSubmit)="submit()">
  <div
    class="bg-white shadow-md  {{resData[0].highLight ? 'highLight' : ''}} {{resData?.[0]?.className}}"
    *ngIf="resData.length">
    <!-- PAGE HEADER -->
    <span [contextMenu]="oneContextMenuPage" *ngIf="isPageContextShow">
      <context-menu #oneContextMenuPage>
        <ng-template contextMenuItem (execute)="copyPageJson(resData)"
          [visible]="true">Copy
          Page</ng-template>
      </context-menu>
      <st-page [resData]="resData"></st-page>
    </span>
    <st-page [resData]="resData" *ngIf="!isPageContextShow"></st-page>

    <!-- SECTION -->
    <div class="flex flex-wrap"
      [ngClass]="{'highLight': resData[0].children[1].highLight}">
      <ng-container
        *ngFor="let sections of resData[0].children[1].children ; index as i">
        <div *ngIf="!sections.hideExpression" [class]="sections.className"
          [ngClass]="{'highLight': sections.highLight}" [ngStyle]="{
                'padding-left': ((sections.className === 'w-full sm:w-full md:w-1/2 lg:w-1/3 xl:w-1/3' || sections.className === 'w-full sm:w-full md:w-1/2 lg:w-1/2 xl:w-1/2') && i % 2 !== 0) ? '3px' : ((sections.className === 'w-full sm:w-full md:w-1/2 lg:w-1/4 xl:w-1/4') ? '3px' : ''),
                'padding-right': (sections.className === 'w-full sm:w-full md:w-1/2 lg:w-1/3 xl:w-1/3' && i % 2 !== 0) ? '3px' : '',
                'border-color': sections.borderColor + '!important'
              }">
          <span [contextMenu]="oneContextMenu" *ngIf="isPageContextShow">
            <context-menu #oneContextMenu>
              <ng-template contextMenuItem
                (execute)="copySectionJson(resData[0].children[1].children)"
                [visible]="true">Copy
                Section</ng-template>
            </context-menu>
            <st-sections [resData]="resData" [sections]="sections"
              [screenName]="screenName" [screenId]="screenId"
              [formlyModel]="formlyModel"
              (traverseChangeEmit)="traverseAndChange($event)"
              (sectionRepeatEmit)="sectionRepeat($event)"></st-sections>
          </span>
          <st-sections [resData]="resData" [screenName]="screenName"
            [sections]="sections" [screenId]="screenId"
            [formlyModel]="formlyModel" *ngIf="!isPageContextShow"
            (traverseChangeEmit)="traverseAndChange($event)"
            (sectionRepeatEmit)="sectionRepeat($event)"></st-sections>
        </div>
      </ng-container>
    </div>
    <!-- PAGE FOOTER -->
    <div
      [ngStyle]="{'border-top': resData[0].children[0].isBordered ? '1px solid #e5e7eb' : 'none'}"
      class="py-3 px-6 text-black font-semibold text-lg {{resData[0].children[2].highLight ? 'highLight' : ''}}"
      *ngIf="resData[0].children[2].footer" class="ng-subheading">
      {{resData[0].children[2].title}}
      <div *ngFor="let item of resData[0].children[2].children">
        <st-block-buttons-card [softIconList]="item"></st-block-buttons-card>
      </div>
    </div>
  </div>
</form>
