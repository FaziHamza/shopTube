<nz-layout>
    <nz-header [dir]="selectedTheme?.layout" nz-menu
        [nzTheme]="selectedTheme.layout != 'vertical' && selectedTheme.layout != 'rtl' ? 'dark' : 'light'">
        <div class="flex flex-wrap">
            <div class="layout-topbar-icon"
                [ngClass]='selectedTheme.topHeaderMenu'>
                <img *ngIf="!selectedTheme.isCollapsed" class="logo"
                    src="assets/images/logo-dark.png">
                <button
                    *ngIf="selectedTheme?.layout != 'horizental' && selectedTheme?.sideBarSize != 'smallHoverView' && !selectedTheme?.isCollapsed"
                    nz-button class="desktop-toggle" (click)="collapsed()"
                    nzType="primary">
                    <i class="fa-regular fa-bars"></i>
                </button>
            </div>

            <div class="layout-topbar-menu" [ngClass]='selectedTheme.topHeader'
                [ngStyle]="{'margin-bottom': selectedTheme.layoutWidth === 'boxed'
                || selectedTheme.sideBarSize == 'smallIconView' || selectedTheme.sideBarSize == 'smallHoverView'?'20px' :''}"
                *ngIf="selectedTheme.layout == 'vertical' || selectedTheme.layout == 'rtl'"
                nz-menu
                [nzTheme]="selectedTheme.layout === 'vertical'||  selectedTheme.layout === 'rtl'? 'dark' : 'light'">
                <div class="dynamic-header-row">
                    <div class="dynamic-header-btns"
                        *ngIf="selectedTheme['showButton'] == undefined || selectedTheme['showButton']">
                        <button (click)="mobileViewCollapseInHostCom()"
                            *ngIf="selectedTheme?.layout != 'horizental' && selectedTheme?.sideBarSize != 'smallHoverView' "
                            nz-button class="mobile-toggle mr-4 ml-4"
                            nzType="primary">
                            <i class="fa-regular fa-bars"></i>
                        </button>
                        <button
                            *ngIf="selectedTheme?.layout != 'horizental' && selectedTheme?.sideBarSize != 'smallHoverView' && selectedTheme?.isCollapsed"
                            nz-button class="mr-4 ml-4 desktop-toggle"
                            nzType="primary" (click)="collapsed()">
                            <i class="fa-regular fa-bars"></i>
                        </button>
                    </div>
                    <st-menu (notify)="notifyEmit($event)"
                        class="dynamic-header"
                        [selectedTheme]="selectedTheme.layout ? selectedTheme : newSelectedTheme"></st-menu>
                </div>
            </div>
            <div [ngClass]='selectedTheme.topHeader'
                *ngIf="selectedTheme.layout != 'vertical' && selectedTheme.layout != 'rtl'">
                <st-menu (notify)="notifyEmit($event)"
                    [selectedTheme]="selectedTheme.layout ? selectedTheme : newSelectedTheme"></st-menu>
            </div>
        </div>
    </nz-header>

    <div [ngClass]='selectedTheme.horizontalRow' class="main-layout"
        [dir]="this.selectedTheme.layout">
        <div [ngClass]="{'side-menu': selectedTheme.layout != 'rtl',
      'side-menu-rtl': selectedTheme.layout == 'rtl'}"
            [class]="selectedTheme.menuColumn + ' desktop-toggle'">
            <st-app-side-menu [selectedTheme]="selectedTheme"
                (notify)="loadTabsAndButtons($event)"></st-app-side-menu>
        </div>
        <div
            [ngClass]="{'side-menu': selectedTheme.layout != 'rtl', 'side-menu-rtl': selectedTheme.layout == 'rtl'}"
            [class]="selectedTheme.menuColumn + ' mobile-toggle'"
            *ngIf="selectedTheme.showMenu">
            <st-app-side-menu [selectedTheme]="selectedTheme"
                (notify)="loadTabsAndButtons($event)"></st-app-side-menu>
        </div>
        <div [ngClass]='selectedTheme.rowClass' class="content-body">
            <ng-container *ngIf="dropdown.length">
                <st-layout-button (notify)="notifyEmitForDropdown($event)"
                    [dropdownData]="dropdown"></st-layout-button>
            </ng-container>
            <ng-container *ngIf="tabs.length">
                <ng-container *ngFor="let item of tabs">
                    <st-layout-tabs-dropdown *ngIf="item.type == 'mainTab'"
                        [layoutTabsDropdownData]="item"></st-layout-tabs-dropdown>
                </ng-container>
            </ng-container>
            <div dir="ltr">
                <router-outlet></router-outlet>
            </div>
        </div>
    </div>
    <!-- <div class="bg-white-500 text-black-500">ShopoTube</div> -->
</nz-layout>
