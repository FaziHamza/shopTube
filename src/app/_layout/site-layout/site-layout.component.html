<nz-layout>
  <nz-header *ngIf="menuMode == 'horizontal'">
    <div class="flex">
      <img class="logo" src="assets/images/logo-dark.png">
      <div class="w-11/12">
        <app-menu (notify)="notifyEmit($event)"></app-menu>
      </div>
    </div>
  </nz-header>

  <div class={{rowClass}}>
    <div>
      <div style="overflow: auto;"
        [ngClass]="selectedTheme.layouutPosiion == 'fixed' && menuMode == 'inline'? 'scroll' : ''"
        (mouseover)="setHovered(false)" (mouseout)="setHovered(true)">
        <ul nz-menu 
          [style.background-image]="'url(' + selectedTheme.siderBarImages + ')'"
          style="background-size: cover; background-repeat: no-repeat; height: 100%; " [nzMode]='menuMode'
          [nzInlineCollapsed]="isCollapsed" [nzTheme]="theme ? 'dark' : 'light'">
          <ng-container class="flex flex-nowrap">
            <label *ngIf="menuMode == 'inline' && selectedTheme.sideBarSize == 'smallHoverView'" nz-checkbox
              [(ngModel)]="checked"></label>
            <img *ngIf="menuMode == 'inline' && !isCollapsed" class="logo" src="assets/images/logo-dark.png">
            <img *ngIf="menuMode == 'inline' && isCollapsed" class="logo-sm" src="assets/images/logo-sm.png">
          </ng-container>

          <ng-container *ngFor="let item of menuItems">
            <ng-container>
              <ng-container *ngIf="item.isTitle;else subMenu">
                <span nz-icon nzType="appstore"></span>
              </ng-container>
              <ng-template #subMenu>
                <ng-container *ngIf="item.subItems && item.subItems.length > 0;else menu">
                  <li nz-submenu [nzTitle]="item.label" nzIcon="appstore" (mouseover)="setHovered('up')" (mouseout)="setHovered('down')">
                    <ul>
                      <li nz-menu-item *ngFor="let sub of item.subItems" [nzDanger]="true">{{sub.label}}</li>
                    </ul>
                  </li>
                  <span nz-icon [nzType]="ulIcon" nzTheme="outline" *ngIf="menuMode === 'horizontal'" ></span>
                </ng-container>
              </ng-template>
              <ng-template #menu>
                <li nz-menu-item nz-tooltip nzTooltipPlacement="right">
                  <span nz-icon nzType="appstore"></span>
                  <span>{{item.label}}</span>
                </li>
              </ng-template>
            </ng-container>
          </ng-container>
        </ul>
      </div>
    </div>

    <div class={{contentColumn}}>
      <nz-header *ngIf="menuMode == 'inline'">
        <div class="flex flex-nowrap">
          <div class="text-center">
            <span nz-icon *ngIf="selectedTheme.layoutWidth != 'boxed'" class="hover:cursor-pointer"
              [nzType]="isCollapsed ? 'arrow-right' : 'menu-fold' " (click)="toggleCollapsed()"></span>
          </div>
          <ng-container>
            <app-menu (notify)="notifyEmit($event)"></app-menu>
          </ng-container>
        </div>
      </nz-header>
      <br>
      <nz-content>
        <router-outlet></router-outlet>
      </nz-content>
      <!-- CUSTOMIZE THEME -->
      <button nz-button nzType="primary" [nzSize]="size" nzShape="circle" (click)="open()"
        class="fixed bottom-4 right-4" style="display: flex; justify-content: center; align-items: center;">
        <span nz-icon nzType="setting" nzSpin style="margin-right: 0;"></span>
      </button>
      <nz-drawer [nzClosable]="false" [nzVisible]="visible" nzPlacement="right" nzTitle="Theme Customizer"
        [nzExtra]="extra">
        <ng-container *nzDrawerContent>
          <h6 class="mb-0 font-bold uppercase">Layout</h6>
          <p class="text-gray-500 text-xs">Choose your layout</p>
          <div class="flex pt-2">
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.layout == 'vertical' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/vertical.png"
                  (click)="changeLayout('vertical')">
              </div>
              <P class="mt-2 font-bold">Vertical</P>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.layout == 'horizental' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/horizental.png"
                  (click)="changeLayout('horizental')">
              </div>
              <P class="mt-2 font-bold">Horizental</P>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <img class="rounded-md h-20 w-25 hover:cursor-pointer"
                src="https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png">
              <P class="mt-2 font-bold">Two Column</P>
            </div>

          </div>
          <h6 class="mb-0 font-bold uppercase pt-2">LAYOUT WIDTH</h6>
          <p class="text-gray-500 text-xs">Choose Fluid or Boxed layout.</p>
          <div class="flex pt-2">
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.layoutWidth == 'fluid' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/horizental.png"
                  (click)="changeLayout('fluid')">
              </div>
              <P class="mt-2 font-bold">Fluid</P>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.layoutWidth == 'boxed' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/horizental.png"
                  (click)="changeLayout('boxed')">
              </div>
              <P class="mt-2 font-bold">Boxed</P>
            </div>
          </div>
          <h6 class="mb-0 font-bold uppercase pt-2">SIDEBAR COLOR</h6>
          <p class="text-gray-500 text-xs">Choose Light or Dark Topbar Color.</p>
          <div class="flex pt-2">
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.sieBarColor == 'light' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/horizental.png"
                  (click)="changeLayout('light')">
              </div>
              <P class="mt-2 font-bold">Light</P>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.sieBarColor == 'dark' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/horizental.png"
                  (click)="changeLayout('dark')">
              </div>
              <P class="mt-2 font-bold">Dark</P>
            </div>
          </div>
          <h6 class="mb-0 font-bold uppercase pt-2">SIDEBAR SIZE</h6>
          <p class="text-gray-500 text-xs">Choose a size of Sidebar</p>
          <div class="flex pt-2">
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.sideBarSize == 'default' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/horizental.png"
                  (click)="changeLayout('default')">
              </div>
              <P class="mt-2 font-bold">Default</P>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.sideBarSize == 'compact' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/horizental.png"
                  (click)="changeLayout('compact')">
              </div>
              <P class="mt-2 font-bold">Compact</P>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.sideBarSize == 'smallIconView' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/horizental.png"
                  (click)="changeLayout('smallIconView')">
              </div>
              <P class="mt-2 font-bold">Small (Icon View)</P>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.sideBarSize == 'smallHoverView' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/horizental.png"
                  (click)="changeLayout('smallHoverView')">
              </div>
              <P class="mt-2 font-bold">Small Hover View</P>
            </div>
          </div>
          <h6 class="mb-0 font-bold uppercase pt-2">LAYOUT POSITION</h6>
          <p class="text-gray-500 text-xs">Choose Fixed or Scrollable Layout Position.</p>
          <div class="flex pt-2">
            <nz-button-group [nzSize]="size">
              <button [ngClass]="selectedTheme.layouutPosiion == 'fixed' ? 'selected' : ''" nz-button nzType="default"
                (click)="changeLayout('fixed')">
                Fixed
              </button>
              <button [ngClass]="selectedTheme.layouutPosiion == 'scrollable' ? 'selected' : ''" nz-button
                nzType="default" (click)="changeLayout('scrollable')">
                Scrollable
              </button>
            </nz-button-group>
          </div>
          <h6 class="mb-0 font-bold uppercase pt-2">SIDEBAR IMAGES</h6>
          <p class="text-gray-500 text-xs">Choose a image of Sidebar</p>
          <div class="flex pt-2">
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.siderBarImages == '' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="" (click)="changeLayout('')">
              </div>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.siderBarImages == 'assets/images/menu/image-1.avif' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/menu/image-1.avif"
                  (click)="changeLayout('assets/images/menu/image-1.avif')">
              </div>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.siderBarImages == 'assets/images/menu/image_2.avif' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/menu/image_2.avif"
                  (click)="changeLayout('assets/images/menu/image_2.avif')">
              </div>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.siderBarImages == 'assets/images/menu/image_3.avif' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/menu/image_3.avif"
                  (click)="changeLayout('assets/images/menu/image_3.avif')">
              </div>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.siderBarImages == 'assets/images/menu/image_4.avif' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/menu/image_4.avif"
                  (click)="changeLayout('assets/images/menu/image_4.avif')">
              </div>
            </div>
          </div>
          <h6 class="mb-0 font-bold uppercase pt-2">SIDEBAR VIEW</h6>
          <p class="text-gray-500 text-xs">Choose Default or Detached Sidebar view.</p>
          <div class="flex pt-2">
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.siderBarView == 'sidebarViewDefault' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/horizental.png"
                  (click)="changeLayout('sidebarViewDefault')">
              </div>
              <P class="mt-2 font-bold">Default</P>
            </div>
            <div class="w-full sm:w-1/2 md:w-1/3 mb-4 px-2">
              <div
                [ngClass]="selectedTheme.siderBarView == 'detatatched' ? 'rounded-md border border-blue-400' : 'rounded-md border border-gray-200'">
                <img class="rounded-md h-20 w-25 hover:cursor-pointer" src="assets/images/layout/horizental.png"
                  (click)="changeLayout('detatatched')">
              </div>
              <P class="mt-2 font-bold">Compact</P>
            </div>
          </div>
        </ng-container>
        <ng-template #extra>
          <span nz-icon nzType="close" nzTheme="outline" (click)="close()"
            class="text-gray-500 hover:text-red-500 cursor-pointer"></span>
        </ng-template>
      </nz-drawer>
    </div>
  </div>

  <div class="bg-white-500 text-black-500">
    <nz-footer>ShopoTube</nz-footer>
  </div>
</nz-layout>