<div class="b-card top-action-bar p-3">
  <div class="page-selector">
    <nz-form-control nzErrorTip="Please Select Page">
      <nz-cascader nzChangeOnSelect [nzAllowClear]="true" style="padding-left: 4px; width: 100%"
        [(ngModel)]="selectDepartmentName" [nzOptions]="departmentData" (ngModelChange)="onDepartmentChange($event)"
        [nzLoadData]="loadData.bind(this)" placeholder="Select Screen">
      </nz-cascader>
    </nz-form-control>
  </div>



</div>

<nz-table #editTable [nzData]="data">
  <thead>
    <tr>
      <th>ID</th>
      <th>Issue</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of data">
      <td>{{ data.id }}</td>
      <td>{{ data.issue }}</td>
      <td>
        <ng-container *ngIf="!editCache[data.id].edit">
          {{ data.status }}
        </ng-container>
        <nz-select
          *ngIf="editCache[data.id].edit"
          [(ngModel)]="editCache[data.id].data.status"
        >
          <nz-option nzValue="open" nzLabel="Open"></nz-option>
          <nz-option nzValue="progress" nzLabel="Progress"></nz-option>
          <nz-option nzValue="complete" nzLabel="Complete"></nz-option>
          <nz-option nzValue="inprogress" nzLabel="In Progress"></nz-option>
          <nz-option nzValue="close" nzLabel="Close"></nz-option>
        </nz-select>
      </td>
      <td>
        <span
          *ngIf="!editCache[data.id].edit"
          nz-table-action
          nzType="link"
          (click)="startEdit(data.id)"
        >
          Edit
        </span>
        <span
          *ngIf="editCache[data.id].edit"
          nz-table-action
          nzType="link"
          (click)="saveEdit(data.id)"
        >
          Save
        </span>
        <span
          *ngIf="editCache[data.id].edit"
          nz-table-action
          nzType="link"
          (click)="cancelEdit(data.id)"
        >
          Cancel
        </span>
      </td>
    </tr>
  </tbody>
</nz-table>
